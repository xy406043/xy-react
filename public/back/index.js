(()=>{var Wt=Object.create;var D=Object.defineProperty;var Vt=Object.getOwnPropertyDescriptor;var qt=Object.getOwnPropertyNames;var Jt=Object.getPrototypeOf,Xt=Object.prototype.hasOwnProperty;var Yt=t=>D(t,"__esModule",{value:!0});var Zt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Qt=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of qt(e))!Xt.call(t,a)&&(r||a!=="default")&&D(t,a,{get:()=>e[a],enumerable:!(n=Vt(e,a))||n.enumerable});return t},kt=(t,e)=>Qt(Yt(D(t!=null?Wt(Jt(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Kt=Zt((A,m)=>{var zt=200,tt="__lodash_hash_undefined__",et=9007199254740991,R="[object Arguments]",te="[object Array]",rt="[object Boolean]",nt="[object Date]",ee="[object Error]",U="[object Function]",at="[object GeneratorFunction]",x="[object Map]",ot="[object Number]",B="[object Object]",it="[object Promise]",ct="[object RegExp]",v="[object Set]",st="[object String]",ut="[object Symbol]",H="[object WeakMap]",ft="[object ArrayBuffer]",O="[object DataView]",lt="[object Float32Array]",ht="[object Float64Array]",dt="[object Int8Array]",gt="[object Int16Array]",pt="[object Int32Array]",_t="[object Uint8Array]",bt="[object Uint8ClampedArray]",yt="[object Uint16Array]",mt="[object Uint32Array]",re=/[\\^$.*+?()[\]{}|]/g,ne=/\w*$/,ae=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,o={};o[R]=o[te]=o[ft]=o[O]=o[rt]=o[nt]=o[lt]=o[ht]=o[dt]=o[gt]=o[pt]=o[x]=o[ot]=o[B]=o[ct]=o[v]=o[st]=o[ut]=o[_t]=o[bt]=o[yt]=o[mt]=!0;o[ee]=o[U]=o[H]=!1;var ie=typeof global=="object"&&global&&global.Object===Object&&global,ce=typeof self=="object"&&self&&self.Object===Object&&self,u=ie||ce||Function("return this")(),wt=typeof A=="object"&&A&&!A.nodeType&&A,St=wt&&typeof m=="object"&&m&&!m.nodeType&&m,se=St&&St.exports===wt;function ue(t,e){return t.set(e[0],e[1]),t}function fe(t,e){return t.add(e),t}function le(t,e){for(var r=-1,n=t?t.length:0;++r<n&&e(t[r],r,t)!==!1;);return t}function he(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}function At(t,e,r,n){var a=-1,i=t?t.length:0;for(n&&i&&(r=t[++a]);++a<i;)r=e(r,t[a],a,t);return r}function de(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function ge(t,e){return t==null?void 0:t[e]}function Ct(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function Tt(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}function F(t,e){return function(r){return t(e(r))}}function xt(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var pe=Array.prototype,_e=Function.prototype,j=Object.prototype,K=u["__core-js_shared__"],vt=function(){var t=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ot=_e.toString,l=j.hasOwnProperty,P=j.toString,be=RegExp("^"+Ot.call(l).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jt=se?u.Buffer:void 0,Pt=u.Symbol,It=u.Uint8Array,ye=F(Object.getPrototypeOf,Object),me=Object.create,we=j.propertyIsEnumerable,Se=pe.splice,Et=Object.getOwnPropertySymbols,Ae=jt?jt.isBuffer:void 0,Ce=F(Object.keys,Object),$=y(u,"DataView"),w=y(u,"Map"),N=y(u,"Promise"),W=y(u,"Set"),V=y(u,"WeakMap"),S=y(Object,"create"),Te=g($),xe=g(w),ve=g(N),Oe=g(W),je=g(V),Lt=Pt?Pt.prototype:void 0,Mt=Lt?Lt.valueOf:void 0;function h(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Pe(){this.__data__=S?S(null):{}}function Ie(t){return this.has(t)&&delete this.__data__[t]}function Ee(t){var e=this.__data__;if(S){var r=e[t];return r===tt?void 0:r}return l.call(e,t)?e[t]:void 0}function Le(t){var e=this.__data__;return S?e[t]!==void 0:l.call(e,t)}function Me(t,e){var r=this.__data__;return r[t]=S&&e===void 0?tt:e,this}h.prototype.clear=Pe;h.prototype.delete=Ie;h.prototype.get=Ee;h.prototype.has=Le;h.prototype.set=Me;function f(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function De(){this.__data__=[]}function Ge(t){var e=this.__data__,r=I(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Se.call(e,r,1),!0}function Re(t){var e=this.__data__,r=I(e,t);return r<0?void 0:e[r][1]}function Ue(t){return I(this.__data__,t)>-1}function Be(t,e){var r=this.__data__,n=I(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}f.prototype.clear=De;f.prototype.delete=Ge;f.prototype.get=Re;f.prototype.has=Ue;f.prototype.set=Be;function _(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function He(){this.__data__={hash:new h,map:new(w||f),string:new h}}function Fe(t){return E(this,t).delete(t)}function Ke(t){return E(this,t).get(t)}function $e(t){return E(this,t).has(t)}function Ne(t,e){return E(this,t).set(t,e),this}_.prototype.clear=He;_.prototype.delete=Fe;_.prototype.get=Ke;_.prototype.has=$e;_.prototype.set=Ne;function b(t){this.__data__=new f(t)}function We(){this.__data__=new f}function Ve(t){return this.__data__.delete(t)}function qe(t){return this.__data__.get(t)}function Je(t){return this.__data__.has(t)}function Xe(t,e){var r=this.__data__;if(r instanceof f){var n=r.__data__;if(!w||n.length<zt-1)return n.push([t,e]),this;r=this.__data__=new _(n)}return r.set(t,e),this}b.prototype.clear=We;b.prototype.delete=Ve;b.prototype.get=qe;b.prototype.has=Je;b.prototype.set=Xe;function Ye(t,e){var r=X(t)||mr(t)?de(t.length,String):[],n=r.length,a=!!n;for(var i in t)(e||l.call(t,i))&&!(a&&(i=="length"||pr(i,n)))&&r.push(i);return r}function Dt(t,e,r){var n=t[e];(!(l.call(t,e)&&Bt(n,r))||r===void 0&&!(e in t))&&(t[e]=r)}function I(t,e){for(var r=t.length;r--;)if(Bt(t[r][0],e))return r;return-1}function Ze(t,e){return t&&Gt(e,Y(e),t)}function q(t,e,r,n,a,i,c){var s;if(n&&(s=i?n(t,a,i,c):n(t)),s!==void 0)return s;if(!L(t))return t;var Z=X(t);if(Z){if(s=hr(t),!e)return ur(t,s)}else{var p=d(t),Q=p==U||p==at;if(Sr(t))return rr(t,e);if(p==B||p==R||Q&&!i){if(Ct(t))return i?t:{};if(s=dr(Q?{}:t),!e)return fr(t,Ze(s,t))}else{if(!o[p])return i?t:{};s=gr(t,p,q,e)}}c||(c=new b);var k=c.get(t);if(k)return k;if(c.set(t,s),!Z)var z=r?lr(t):Y(t);return le(z||t,function(M,C){z&&(C=M,M=t[C]),Dt(s,C,q(M,e,r,n,C,t,c))}),s}function Qe(t){return L(t)?me(t):{}}function ke(t,e,r){var n=e(t);return X(t)?n:he(n,r(t))}function ze(t){return P.call(t)}function tr(t){if(!L(t)||br(t))return!1;var e=Ft(t)||Ct(t)?be:ae;return e.test(g(t))}function er(t){if(!Ut(t))return Ce(t);var e=[];for(var r in Object(t))l.call(t,r)&&r!="constructor"&&e.push(r);return e}function rr(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function J(t){var e=new t.constructor(t.byteLength);return new It(e).set(new It(t)),e}function nr(t,e){var r=e?J(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function ar(t,e,r){var n=e?r(Tt(t),!0):Tt(t);return At(n,ue,new t.constructor)}function or(t){var e=new t.constructor(t.source,ne.exec(t));return e.lastIndex=t.lastIndex,e}function ir(t,e,r){var n=e?r(xt(t),!0):xt(t);return At(n,fe,new t.constructor)}function cr(t){return Mt?Object(Mt.call(t)):{}}function sr(t,e){var r=e?J(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function ur(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function Gt(t,e,r,n){r||(r={});for(var a=-1,i=e.length;++a<i;){var c=e[a],s=n?n(r[c],t[c],c,r,t):void 0;Dt(r,c,s===void 0?t[c]:s)}return r}function fr(t,e){return Gt(t,Rt(t),e)}function lr(t){return ke(t,Y,Rt)}function E(t,e){var r=t.__data__;return _r(e)?r[typeof e=="string"?"string":"hash"]:r.map}function y(t,e){var r=ge(t,e);return tr(r)?r:void 0}var Rt=Et?F(Et,Object):Tr,d=ze;($&&d(new $(new ArrayBuffer(1)))!=O||w&&d(new w)!=x||N&&d(N.resolve())!=it||W&&d(new W)!=v||V&&d(new V)!=H)&&(d=function(t){var e=P.call(t),r=e==B?t.constructor:void 0,n=r?g(r):void 0;if(n)switch(n){case Te:return O;case xe:return x;case ve:return it;case Oe:return v;case je:return H}return e});function hr(t){var e=t.length,r=t.constructor(e);return e&&typeof t[0]=="string"&&l.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function dr(t){return typeof t.constructor=="function"&&!Ut(t)?Qe(ye(t)):{}}function gr(t,e,r,n){var a=t.constructor;switch(e){case ft:return J(t);case rt:case nt:return new a(+t);case O:return nr(t,n);case lt:case ht:case dt:case gt:case pt:case _t:case bt:case yt:case mt:return sr(t,n);case x:return ar(t,n,r);case ot:case st:return new a(t);case ct:return or(t);case v:return ir(t,n,r);case ut:return cr(t)}}function pr(t,e){return e=e??et,!!e&&(typeof t=="number"||oe.test(t))&&t>-1&&t%1==0&&t<e}function _r(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function br(t){return!!vt&&vt in t}function Ut(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||j;return t===r}function g(t){if(t!=null){try{return Ot.call(t)}catch{}try{return t+""}catch{}}return""}function yr(t){return q(t,!0,!0)}function Bt(t,e){return t===e||t!==t&&e!==e}function mr(t){return wr(t)&&l.call(t,"callee")&&(!we.call(t,"callee")||P.call(t)==R)}var X=Array.isArray;function Ht(t){return t!=null&&Ar(t.length)&&!Ft(t)}function wr(t){return Cr(t)&&Ht(t)}var Sr=Ae||xr;function Ft(t){var e=L(t)?P.call(t):"";return e==U||e==at}function Ar(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=et}function L(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Cr(t){return!!t&&typeof t=="object"}function Y(t){return Ht(t)?Ye(t):er(t)}function Tr(){return[]}function xr(){return!1}m.exports=yr});var T=["chrome://newtab/","chrome://extensions/","chrome://bookmarks","chrome-extension://"];async function G(){let t={active:!0,currentWindow:!0},[e]=await chrome.tabs.query(t);return e}var $t=kt(Kt());chrome.runtime.onMessage.addListener(async function(t,e,r){let n=await G();chrome.storage.sync.get(["LocalPageData"],function(a){let i=(0,$t.default)(a.LocalPageData)||[],c=i.findIndex(s=>s.tabId===n.id);t.tabId=n.id,c===-1&&i.push(t),c!==-1&&(i[c]=t),chrome.storage.sync.set({LocalPageData:i},function(){})}),r("\u6211\u662F\u540E\u53F0\u63A5\u53D7\u5230\u4F60\u7684\u6570\u636E")});chrome.tabs.onUpdated.addListener(function(t,e,r){e.url&&T.some(n=>e?.url?.includes(n))||e.status==="loading"||!e.url||Nt({tabId:t,message:{type:"tabUpdate",tab:r}})});chrome.tabs.onActivated.addListener(async t=>{let e=await G();e.url&&T.some(r=>e?.url?.includes(r))||Nt({tabId:t.tabId,message:{type:"tabUpdate",tab:e}})});function Nt(t){chrome.tabs.sendMessage(t.tabId,t.message,function(e){})}})();
//# sourceMappingURL=index.js.map
