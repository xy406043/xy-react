### æ·±å…¥åŒ– React å­¦ä¹  å¹¶é…åˆå¼€å‘ chrome æ’ä»¶

> ä¸€å¼€å§‹ä½¿ç”¨ Chrome çš„ User Javascript And Css æ’ä»¶è¿›è¡Œ å‘é¡µé¢æ³¨å…¥è„šæœ¬ ä»¥è°ƒæ•´é¡µé¢å†…å®¹ã€‚ä¸ºäº†ä¾¿äºç½‘å€æ”¶è—ä»¥åŠçŸ¥è¯†åº“å»ºç«‹ åœ¨æ­¤æ’ä»¶ä¸­ é€šè¿‡ä¿®æ”¹ DOM æ˜¾ç¤ºè‡ªå·±éœ€è¦çš„ç½‘é¡µä¿¡æ¯ã€‚ä½†æ˜¯è¿™ä¸ªæ’ä»¶å¯¹äº å…¨å±€ç½‘ç«™åŒ¹é… \*\* ä¸å¯é‡å¤ï¼Œå¿…é¡»åœ¨ä¸€ä¸ªæ–‡ä»¶å†…ï¼Œå…‰æ˜¯å±•ç¤ºç½‘é¡µä¿¡æ¯å°±éœ€è¦å¾ˆé•¿çš„ä»£ç ã€‚äºæ˜¯åˆå°è¯•ä½¿ç”¨äº† temperMonkey æ²¹çŒ´æ’ä»¶ï¼Œåªæ˜¯ä½¿ç”¨ Es6 çš„æ–¹å¼é»˜è®¤å°±ä¼šæŠ¥é”™ï¼Œè€Œä½¿ç”¨ Es5 çš„æ–¹å¼åˆéœ€è¦å¯¹è‡ªå·±çš„ä»£ç è¿›è¡Œè°ƒæ•´/ç¼–è¯‘ï¼Œä¸”æ’ä»¶å¸‚åœº greasky fork è¦æ±‚ä»£ç å¯è¯»ã€‚å¼€å‘å®Œæˆä¹‹åï¼Œåˆæƒ³ç€é¡ºä¾¿å­¦å­¦ Chrome æ’ä»¶å¼€å‘ï¼Œäºæ˜¯åˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„åŸºç¡€ html popup ç‰ˆæœ¬ï¼Œç°åœ¨æ­£åœ¨ä½¿ç”¨ï¼Œç°åœ¨åˆ™æ˜¯å¸Œæœ›å¼ºåŒ–ä¸‹ç°æœ‰çš„åŠŸèƒ½ï¼Œå±•ç¤ºçš„æ›´åŠ æ¼‚äº®ï¼Œäºæ˜¯å†³å®šä½¿ç”¨ Vite React Typescript Sass è¿›è¡Œå¼€å‘ï¼Œæ­£å¥½è¡¥å……å­¦ä¹ ä¸‹è¿™äº›çŸ¥è¯†ã€‚

#### è§„èŒƒåŒ–

> ä¹‹å‰å°è¯•è¿‡ä½¿ç”¨ vite + vue3 + ts + eslit + prettier + husky + lint-staged è¿™ä¸€å¥—æµç¨‹å¼€å‘äº†ä¸€ä¸ªç®€å•çš„ Vue3 ç»„ä»¶ [viteTools](https://gitee.com/xy406043/xy-vite-tools.git) æ”¾åˆ° npm ä¸Šï¼Œ å¹¶åœ¨ ä¸€ä¸ª ts é¡¹ç›®ä¸­æˆåŠŸå¼•ç”¨ã€‚ è™½ç„¶æœ‰å¾ˆå¤šåœ°æ–¹æ²¡åšå¥½ï¼Œ æ¯”å¦‚ä¾èµ–å¤ªè‡ƒè‚¿ç­‰

è¿™ä¸€æ¬¡ å°† vue3 æ¢æˆäº† react å¹¶ä¸”ç”¨æ¥å¼€å‘ chrome æ’ä»¶ ï¼Œä¸€æ–¹é¢æ˜¯åŠ æ·± å‰ç«¯è§„èŒƒåŒ–å¸¸è§„æµç¨‹çš„ç†è§£ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿæ˜¯å­¦ä¹  Reactï¼Œæ¯•ç«Ÿ ä¼¼ä¹ React çš„ç”Ÿæ€è¦æ¯” Vue è¦å¥½ï¼Œä¹Ÿä¸ºäº†å¼ºåŒ–äº† å‰ç«¯å·¥ç¨‹åŒ–æ€è·¯ã€‚
å®ç°çš„åŠŸèƒ½è¿˜æ˜¯ TDKI å¥½äº†ï¼Œ ä»¥åŠä½¿ç”¨ sass å’Œ unocss åŠŸèƒ½å°è¯•

#### è¿è¡Œ

```s
cnpm run  b --adapter=[chrome|firefox|opera|edge]
```

#### æ„å»º

```s
cnpm run b
```

#### react å¼€å‘ chrome æ’ä»¶ ç—›ç‚¹

- æ²¡æœ‰åŠæ³•å³æ—¶æ›´æ”¹ï¼Œæ¯æ¬¡ä»£ç ä¿®æ”¹éƒ½éœ€è¦è¿›è¡Œ build è€Œåè¿›è¡Œ ç‚¹å‡» chrome æ’ä»¶çš„æ›´æ–°å†è¿›è¡Œå°è¯•ã€‚
  <!-- å¹¸å¥½ä½¿ç”¨ vite æ‰“åŒ…éå¸¸å¿«ã€‚-- åªæ˜¯yarn dev æ—¶ -->
- ç›®å‰å¯ä»¥é€šè¿‡ iframe å†…åµŒ http://localhost:3000 ç«¯å£è¿›è¡Œè°ƒè¯•ï¼Œä½†æ˜¯å†…åµŒçš„æ— æ³•ä½¿ç”¨ chrome Api

#### âš ï¸âš ï¸âš ï¸âš ï¸ è¿‡ç¨‹ âš ï¸âš ï¸âš ï¸âš ï¸

[ä¾èµ–](docs/dependencies.md)

1. (ä»…å®Œå…¨ç‹¬ç«‹å¼€å‘ Chrome æ’ä»¶æ—¶ä½¿ç”¨ï¼Œå¤šç«¯æ—¶ä½¿ç”¨ extension-polyfill-ts æ—¶ä¼šå»æ‰)å®‰è£…@types/chrome ä»¥è§£å†³å¼€å‘ç¯å¢ƒæ—  chrome å˜é‡çš„é—®é¢˜
2. ant-design 4.0 ç‰ˆæœ¬ Js ä»£ç é»˜è®¤æ”¯æŒåŸºäº Es module çš„ tree shaking

#### ğŸ’ªğŸ»ğŸ’ªğŸ»ğŸ’ªğŸ»ğŸ’ªğŸ» TODO ç‚¹ ğŸ’ªğŸ»ğŸ’ªğŸ»ğŸ’ªğŸ»ğŸ’ªğŸ»ğŸ’ªğŸ»

- [ ] æ‰“åŒ…æ—¶å¦‚ä½•ç”Ÿæˆç±» webpack çš„ chunkName
- [ ] ä½¿ç”¨ Antd è¿›è¡Œ å†…å®¹å±•ç¤º
- [ ] æ‰©å±• TDKI ä½¿ç”¨ï¼šæ·»åŠ è·¯ç”±ã€ç»“æ„æ¸…æ™°ã€è„šæœ¬æ˜äº†
- [ ] background.js å’Œ content-scripts ä½¿ç”¨ ts ï¼Ÿ å¦‚ä½•åœ¨æ„å»ºä¹‹åä¸ manifest.json ä»ç„¶æœ‰æ–°çš„å†…
- [ ] i18n
- [ ] æ„å»ºå¤šé¡µé¢ - éœ€è¦è½¬æ¢ä¸ºä½¿ç”¨ [webExtension Api](docs/extension.md) çš„ browser\* å‘½åç©ºé—´
- [ ] ç±»ä¼¼ vben-admin (vue3) ä½¿ç”¨ (æŠŠè‡ªå®šä¹‰ variable ç”¨ å“åº”å¼æ³¨å…¥å…¨å±€ ç”¨æ¥ç”Ÿæˆ class)ï¼›ä»¥åŠä½¿ç”¨ namespace ç»Ÿä¸€é…ç½®ç”Ÿæˆ prefix åœ¨ css ä¸­ ç”Ÿæˆä¸ prefixCls ä¸€æ ·çš„ class å

```js
const { prefixCls } = useDesign('basic-arrow')
```

```css
@prefix-cls: ~'@{namespace}-icon-picker';

.@{prefix-cls} {
  .ant-input-group-addon {
    padding: 0;
  }

  &-popover {
    width: 300px;

    .ant-popover-inner-content {
      padding: 0;
    }

    .scrollbar {
      height: 220px;
    }
  }
}
```

- [ ] æ„å»ºé…ç½®ç¬¦åˆä¸åŒæµè§ˆå™¨æ ¼å¼çš„æ’ä»¶ (å…ˆå‚è€ƒ CTool) (src ä¸ç›´æ¥ä½¿ç”¨å¤–éƒ¨ Api,è€Œæ˜¯å…ˆè¿›è¡Œå°è£…ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡åŒºåˆ†æ„å»º)
- [ ] ç¼–å†™ vite æ’ä»¶
