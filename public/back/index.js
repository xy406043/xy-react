(()=>{var Wt=Object.create;var D=Object.defineProperty;var Vt=Object.getOwnPropertyDescriptor;var qt=Object.getOwnPropertyNames;var Jt=Object.getPrototypeOf,Xt=Object.prototype.hasOwnProperty;var Yt=t=>D(t,"__esModule",{value:!0});var Zt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var kt=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of qt(e))!Xt.call(t,a)&&(n||a!=="default")&&D(t,a,{get:()=>e[a],enumerable:!(r=Vt(e,a))||r.enumerable});return t},Qt=(t,e)=>kt(Yt(D(t!=null?Wt(Jt(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Kt=Zt((A,m)=>{var zt=200,tt="__lodash_hash_undefined__",et=9007199254740991,G="[object Arguments]",te="[object Array]",nt="[object Boolean]",rt="[object Date]",ee="[object Error]",R="[object Function]",at="[object GeneratorFunction]",v="[object Map]",ot="[object Number]",B="[object Object]",it="[object Promise]",ct="[object RegExp]",j="[object Set]",st="[object String]",ut="[object Symbol]",H="[object WeakMap]",ft="[object ArrayBuffer]",P="[object DataView]",lt="[object Float32Array]",gt="[object Float64Array]",ht="[object Int8Array]",pt="[object Int16Array]",dt="[object Int32Array]",_t="[object Uint8Array]",bt="[object Uint8ClampedArray]",yt="[object Uint16Array]",mt="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,re=/\w*$/,ae=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,o={};o[G]=o[te]=o[ft]=o[P]=o[nt]=o[rt]=o[lt]=o[gt]=o[ht]=o[pt]=o[dt]=o[v]=o[ot]=o[B]=o[ct]=o[j]=o[st]=o[ut]=o[_t]=o[bt]=o[yt]=o[mt]=!0;o[ee]=o[R]=o[H]=!1;var ie=typeof global=="object"&&global&&global.Object===Object&&global,ce=typeof self=="object"&&self&&self.Object===Object&&self,u=ie||ce||Function("return this")(),xt=typeof A=="object"&&A&&!A.nodeType&&A,Tt=xt&&typeof m=="object"&&m&&!m.nodeType&&m,se=Tt&&Tt.exports===xt;function ue(t,e){return t.set(e[0],e[1]),t}function fe(t,e){return t.add(e),t}function le(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function ge(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t}function At(t,e,n,r){var a=-1,i=t?t.length:0;for(r&&i&&(n=t[++a]);++a<i;)n=e(n,t[a],a,t);return n}function he(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function pe(t,e){return t==null?void 0:t[e]}function Ct(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}function wt(t){var e=-1,n=Array(t.size);return t.forEach(function(r,a){n[++e]=[a,r]}),n}function F(t,e){return function(n){return t(e(n))}}function vt(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var de=Array.prototype,_e=Function.prototype,I=Object.prototype,K=u["__core-js_shared__"],jt=function(){var t=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Pt=_e.toString,l=I.hasOwnProperty,O=I.toString,be=RegExp("^"+Pt.call(l).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=se?u.Buffer:void 0,Ot=u.Symbol,Et=u.Uint8Array,ye=F(Object.getPrototypeOf,Object),me=Object.create,xe=I.propertyIsEnumerable,Te=de.splice,St=Object.getOwnPropertySymbols,Ae=It?It.isBuffer:void 0,Ce=F(Object.keys,Object),$=y(u,"DataView"),x=y(u,"Map"),N=y(u,"Promise"),W=y(u,"Set"),V=y(u,"WeakMap"),T=y(Object,"create"),we=p($),ve=p(x),je=p(N),Pe=p(W),Ie=p(V),Lt=Ot?Ot.prototype:void 0,Mt=Lt?Lt.valueOf:void 0;function g(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Oe(){this.__data__=T?T(null):{}}function Ee(t){return this.has(t)&&delete this.__data__[t]}function Se(t){var e=this.__data__;if(T){var n=e[t];return n===tt?void 0:n}return l.call(e,t)?e[t]:void 0}function Le(t){var e=this.__data__;return T?e[t]!==void 0:l.call(e,t)}function Me(t,e){var n=this.__data__;return n[t]=T&&e===void 0?tt:e,this}g.prototype.clear=Oe;g.prototype.delete=Ee;g.prototype.get=Se;g.prototype.has=Le;g.prototype.set=Me;function f(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function De(){this.__data__=[]}function Ue(t){var e=this.__data__,n=E(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Te.call(e,n,1),!0}function Ge(t){var e=this.__data__,n=E(e,t);return n<0?void 0:e[n][1]}function Re(t){return E(this.__data__,t)>-1}function Be(t,e){var n=this.__data__,r=E(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}f.prototype.clear=De;f.prototype.delete=Ue;f.prototype.get=Ge;f.prototype.has=Re;f.prototype.set=Be;function _(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function He(){this.__data__={hash:new g,map:new(x||f),string:new g}}function Fe(t){return S(this,t).delete(t)}function Ke(t){return S(this,t).get(t)}function $e(t){return S(this,t).has(t)}function Ne(t,e){return S(this,t).set(t,e),this}_.prototype.clear=He;_.prototype.delete=Fe;_.prototype.get=Ke;_.prototype.has=$e;_.prototype.set=Ne;function b(t){this.__data__=new f(t)}function We(){this.__data__=new f}function Ve(t){return this.__data__.delete(t)}function qe(t){return this.__data__.get(t)}function Je(t){return this.__data__.has(t)}function Xe(t,e){var n=this.__data__;if(n instanceof f){var r=n.__data__;if(!x||r.length<zt-1)return r.push([t,e]),this;n=this.__data__=new _(r)}return n.set(t,e),this}b.prototype.clear=We;b.prototype.delete=Ve;b.prototype.get=qe;b.prototype.has=Je;b.prototype.set=Xe;function Ye(t,e){var n=X(t)||xn(t)?he(t.length,String):[],r=n.length,a=!!r;for(var i in t)(e||l.call(t,i))&&!(a&&(i=="length"||_n(i,r)))&&n.push(i);return n}function Dt(t,e,n){var r=t[e];(!(l.call(t,e)&&Bt(r,n))||n===void 0&&!(e in t))&&(t[e]=n)}function E(t,e){for(var n=t.length;n--;)if(Bt(t[n][0],e))return n;return-1}function Ze(t,e){return t&&Ut(e,Y(e),t)}function q(t,e,n,r,a,i,c){var s;if(r&&(s=i?r(t,a,i,c):r(t)),s!==void 0)return s;if(!L(t))return t;var Z=X(t);if(Z){if(s=hn(t),!e)return fn(t,s)}else{var d=h(t),k=d==R||d==at;if(An(t))return nn(t,e);if(d==B||d==G||k&&!i){if(Ct(t))return i?t:{};if(s=pn(k?{}:t),!e)return ln(t,Ze(s,t))}else{if(!o[d])return i?t:{};s=dn(t,d,q,e)}}c||(c=new b);var Q=c.get(t);if(Q)return Q;if(c.set(t,s),!Z)var z=n?gn(t):Y(t);return le(z||t,function(M,C){z&&(C=M,M=t[C]),Dt(s,C,q(M,e,n,r,C,t,c))}),s}function ke(t){return L(t)?me(t):{}}function Qe(t,e,n){var r=e(t);return X(t)?r:ge(r,n(t))}function ze(t){return O.call(t)}function tn(t){if(!L(t)||yn(t))return!1;var e=Ft(t)||Ct(t)?be:ae;return e.test(p(t))}function en(t){if(!Rt(t))return Ce(t);var e=[];for(var n in Object(t))l.call(t,n)&&n!="constructor"&&e.push(n);return e}function nn(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function J(t){var e=new t.constructor(t.byteLength);return new Et(e).set(new Et(t)),e}function rn(t,e){var n=e?J(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function an(t,e,n){var r=e?n(wt(t),!0):wt(t);return At(r,ue,new t.constructor)}function on(t){var e=new t.constructor(t.source,re.exec(t));return e.lastIndex=t.lastIndex,e}function cn(t,e,n){var r=e?n(vt(t),!0):vt(t);return At(r,fe,new t.constructor)}function sn(t){return Mt?Object(Mt.call(t)):{}}function un(t,e){var n=e?J(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function fn(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Ut(t,e,n,r){n||(n={});for(var a=-1,i=e.length;++a<i;){var c=e[a],s=r?r(n[c],t[c],c,n,t):void 0;Dt(n,c,s===void 0?t[c]:s)}return n}function ln(t,e){return Ut(t,Gt(t),e)}function gn(t){return Qe(t,Y,Gt)}function S(t,e){var n=t.__data__;return bn(e)?n[typeof e=="string"?"string":"hash"]:n.map}function y(t,e){var n=pe(t,e);return tn(n)?n:void 0}var Gt=St?F(St,Object):vn,h=ze;($&&h(new $(new ArrayBuffer(1)))!=P||x&&h(new x)!=v||N&&h(N.resolve())!=it||W&&h(new W)!=j||V&&h(new V)!=H)&&(h=function(t){var e=O.call(t),n=e==B?t.constructor:void 0,r=n?p(n):void 0;if(r)switch(r){case we:return P;case ve:return v;case je:return it;case Pe:return j;case Ie:return H}return e});function hn(t){var e=t.length,n=t.constructor(e);return e&&typeof t[0]=="string"&&l.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function pn(t){return typeof t.constructor=="function"&&!Rt(t)?ke(ye(t)):{}}function dn(t,e,n,r){var a=t.constructor;switch(e){case ft:return J(t);case nt:case rt:return new a(+t);case P:return rn(t,r);case lt:case gt:case ht:case pt:case dt:case _t:case bt:case yt:case mt:return un(t,r);case v:return an(t,r,n);case ot:case st:return new a(t);case ct:return on(t);case j:return cn(t,r,n);case ut:return sn(t)}}function _n(t,e){return e=e??et,!!e&&(typeof t=="number"||oe.test(t))&&t>-1&&t%1==0&&t<e}function bn(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function yn(t){return!!jt&&jt in t}function Rt(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||I;return t===n}function p(t){if(t!=null){try{return Pt.call(t)}catch{}try{return t+""}catch{}}return""}function mn(t){return q(t,!0,!0)}function Bt(t,e){return t===e||t!==t&&e!==e}function xn(t){return Tn(t)&&l.call(t,"callee")&&(!xe.call(t,"callee")||O.call(t)==G)}var X=Array.isArray;function Ht(t){return t!=null&&Cn(t.length)&&!Ft(t)}function Tn(t){return wn(t)&&Ht(t)}var An=Ae||jn;function Ft(t){var e=L(t)?O.call(t):"";return e==R||e==at}function Cn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=et}function L(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function wn(t){return!!t&&typeof t=="object"}function Y(t){return Ht(t)?Ye(t):en(t)}function vn(){return[]}function jn(){return!1}m.exports=mn});var w=["chrome://newtab/","chrome://extensions/","chrome://bookmarks","chrome-extension://"];async function U(){let t={active:!0,currentWindow:!0},[e]=await chrome.tabs.query(t);return e}var $t=Qt(Kt());chrome.runtime.onMessage.addListener(async function(t,e,n){let r=await U();chrome.storage.local.get(["LocalPageData"],function(a){let i=(0,$t.default)(a.LocalPageData)||[],c=i.findIndex(s=>s.tabId===r.id);t.tabId=r.id,c===-1&&i.push(t),c!==-1&&(i[c]=t),chrome.storage.local.set({LocalPageData:i},function(){})}),n("\u6211\u662F\u540E\u53F0\u63A5\u53D7\u5230\u4F60\u7684\u6570\u636E")});chrome.tabs.onUpdated.addListener(function(t,e,n){e.url&&w.some(r=>e?.url?.includes(r))||e.status==="loading"||!e.url||Nt({tabId:t,message:{type:"tabUpdate",tab:n}})});chrome.tabs.onActivated.addListener(async t=>{let e=await U();e.url&&w.some(n=>e?.url?.includes(n))||Nt({tabId:t.tabId,message:{type:"tabUpdate",tab:e}})});function Nt(t){chrome.tabs.sendMessage(t.tabId,t.message,function(e){})}})();
//# sourceMappingURL=index.js.map
