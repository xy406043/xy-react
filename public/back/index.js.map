{
  "version": 3,
  "sources": ["../../src/enums/chromeEnum.ts", "../../src/utils/back/index.js"],
  "sourcesContent": ["export const ChromeSpecialPages: Array<string> = [\n  'chrome://newtab/',\n  'chrome://extensions/',\n  'chrome://bookmarks',\n  'chrome-extension://'\n]\n\nexport const ChromeExtensionId = 'hkbemkhamjpinblcabpbhhaeicjiginn'\n", "// background.js === chrome \u63D2\u4EF6\u540E\u53F0\u6838\u5FC3\n// \u53EF\u4EE5\u8BBF\u95EE\u6240\u6709chrome Api === \u9700\u8981\u5728manifest.json \u4E2D\u6DFB\u52A0\u6743\u9650\n// \u65E0\u6CD5\u83B7\u53D6Dom\n\nimport { ChromeSpecialPages as excludePages } from '@/enums/chromeEnum'\n\nasync function getCurrentTab() {\n  let queryOptions = { active: true, currentWindow: true }\n  let [tab] = await chrome.tabs.query(queryOptions)\n\n  return tab\n}\n\n//  \u76D1\u542Ctab\u9875\u9762\u53D8\u5316 - \u4F20\u9012\u7ED9 popup.js \u8FDB\u884C\u6570\u636E\u66F4\u65B0 \u5207\u6362\u8DEF\u7531\u3001\u72B6\u6001\u53D8\u66F4\u7B49\nchrome.tabs.onUpdated.addListener(function (tabId, changeInfo, tab) {\n  console.log('\u9875\u9762\u53D1\u751F\u53D8\u5316 \u5237\u65B0 or \u65B0\u5EFA', tabId, changeInfo, tab)\n  if (changeInfo.url && excludePages.some(x => changeInfo.url.includes(x))) {\n    return\n  }\n  if (changeInfo.status === 'loading' || !changeInfo.url) {\n    return\n  }\n  // \u901A\u77E5\u5BF9\u5E94\u7684tab\u9875\u9762url\u53D8\u5316\u4E86,\u9700\u8981\u4F18\u5316\u4E3A\u79BB\u5F00\u7ACB\u5373\u79FB\u9664\uFF0C\u8FDB\u5165\u5219\u52A0\u8F7D\u5B8C\u6BD5\u518D\u6DFB\u52A0\n  SendMessage({\n    tabId,\n    message: { type: 'tabUpdate', tab }\n  })\n})\n\n// \u5207\u6362\u9009\u9879\u5361\u65F6\nchrome.tabs.onActivated.addListener(async activeInfo => {\n  let tab = await getCurrentTab()\n  console.log('\u9009\u9879\u5361\u53D1\u751F\u53D8\u5316', activeInfo, tab)\n  if (tab.url && excludePages.some(x => tab.url.includes(x))) {\n    return\n  }\n\n  SendMessage({\n    tabId: activeInfo.tabId,\n    message: { type: 'tabUpdate', tab }\n  })\n})\n\nfunction SendMessage(options) {\n  chrome.tabs.sendMessage(options.tabId, options.message, function (response) {\n    console.log('\u6765\u81EAcontent-script: direct.js\u7684\u56DE\u590D\uFF1A' + response)\n  })\n}\n"],
  "mappings": "MAAO,GAAM,GAAoC,CAC/C,mBACA,uBACA,qBACA,uBCEF,kBAA+B,CAC7B,GAAI,GAAe,CAAE,OAAQ,GAAM,cAAe,IAC9C,CAAC,GAAO,KAAM,QAAO,KAAK,MAAM,GAEpC,MAAO,GAIT,OAAO,KAAK,UAAU,YAAY,SAAU,EAAO,EAAY,EAAK,CAElE,AADA,QAAQ,IAAI,oEAAmB,EAAO,EAAY,GAC9C,IAAW,KAAO,EAAa,KAAK,GAAK,EAAW,IAAI,SAAS,MAGjE,GAAW,SAAW,WAAa,CAAC,EAAW,KAInD,EAAY,CACV,QACA,QAAS,CAAE,KAAM,YAAa,YAKlC,OAAO,KAAK,YAAY,YAAY,KAAM,IAAc,CACtD,GAAI,GAAM,KAAM,KAEhB,AADA,QAAQ,IAAI,6CAAW,EAAY,GAC/B,IAAI,KAAO,EAAa,KAAK,GAAK,EAAI,IAAI,SAAS,MAIvD,EAAY,CACV,MAAO,EAAW,MAClB,QAAS,CAAE,KAAM,YAAa,WAIlC,WAAqB,EAAS,CAC5B,OAAO,KAAK,YAAY,EAAQ,MAAO,EAAQ,QAAS,SAAU,EAAU,CAC1E,QAAQ,IAAI,gEAAoC",
  "names": []
}
